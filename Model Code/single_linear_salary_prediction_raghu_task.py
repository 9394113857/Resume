# -*- coding: utf-8 -*-
"""Single_Linear_Salary_Prediction_raghu_task.ipynb

Automatically generated by Colaboratory.

Original file is located at
    https://colab.research.google.com/drive/1JWFC77H-DjdGvysK0u_t0giVJm4be3u4
"""

# Importing the libraries
import pickle
import os
import numpy as np
import pandas as pd 
import matplotlib.pyplot as plt

from sklearn.linear_model import LinearRegression

print(os.getcwd())

df = pd.read_csv('https://raw.githubusercontent.com/9394113857/Data-Sets/9ffeb0e88cfbd6ec073f096b7a0dca1b0f2558c2/SalaryData.csv')

print(df.head())

print(df[1:3])

x = df.iloc[:, :-1].values # all rows:1 coumn, of Experience
x

y = df.iloc[ : , 1 : ].values # all rows:1 coumn, of Salary
y

type(x)

linearRegressor = LinearRegression()
linearRegressor.fit(x,y)

x

y

# Saving model to disk
pickle.dump(linearRegressor.fit(x,y), open('single_linear_regression_salary_prediction.pkl','wb'))

experience = float(input("Enter Your Experience : ")) # 1.1

# Loading model to compare the results
model = pickle.load(open('single_linear_regression_salary_prediction.pkl','rb'))
print(model.predict([[experience]]))

plt.scatter(x, y, color = 'red')
plt.plot(x, linearRegressor.predict(x),color = 'black')
plt.title('Salary Vs Experience')
plt.xlabel('Years Of Experience')
plt.ylabel('Salary')
plt.show()

exp = float(input("Enter Your Experience : "))

yPrediction = linearRegressor.predict(np.array(exp).reshape(-1,1))

yPrediction

print(yPrediction)

"""# User_Prediction"""

Experience_Value = float(input("Enter Experience | Eg: 1.1 | User: "))
# reshape_value = float(input("Enter reshape | Eg: -1,1 | User: "))
# User_Prediction = linearRegressor.predict(np.array(Experience_Value).reshape(-1,1))

User_Prediction = model.predict([[Experience_Value]])


print("===================================================")
print("The predicted value from model : " + str(User_Prediction))
print("===================================================")
print("So, The Salary should be : " + str(User_Prediction))

